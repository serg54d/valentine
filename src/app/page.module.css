/* ═══════════════════════════════════════════
   MAIN
   ═══════════════════════════════════════════ */
.main {
    position: relative;
    background: var(--cream);
}

.canvas {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

.floatingHeart {
    position: fixed;
    color: var(--rose-soft);
    pointer-events: none;
    z-index: 0;
    filter: blur(0.5px);
    animation: heartFloat linear infinite;
}

@keyframes heartFloat {
    0% { transform: translateY(105vh) translateX(0) rotate(0deg); opacity: 0; }
    8% { opacity: 1; }
    50% { transform: translateY(50vh) translateX(var(--drift, 0px)) rotate(180deg); }
    92% { opacity: 1; }
    100% { transform: translateY(-10vh) translateX(calc(var(--drift, 0px) * -1)) rotate(360deg); opacity: 0; }
}

/* ═══════════════════════════════════════════
   PROGRESS DOTS
   ═══════════════════════════════════════════ */
.progressDots {
    position: fixed;
    right: 1.2rem;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 10px;
    z-index: 100;
}

.dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--rose-pale);
}

/* ═══════════════════════════════════════════
   SCROLL SCENES
   ═══════════════════════════════════════════ */
.scene {
    min-height: 100vh;
    min-height: 100dvh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    z-index: 10;
    padding: 2rem;
    overflow: hidden;
}

.sceneContent {
    text-align: center;
    max-width: 600px;
    position: relative;
    z-index: 2;
}

.sceneText {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1.8rem, 5vw, 3.2rem);
    font-weight: 700;
    line-height: 1.25;
    margin-bottom: 1rem;
}

.sceneSub {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(1.1rem, 2.8vw, 1.5rem);
    font-weight: 400;
    line-height: 1.6;
    font-style: italic;
}

.sceneHint {
    margin-top: 3rem;
    font-family: 'Cormorant Garamond', serif;
    font-size: 0.85rem;
    color: var(--text-muted);
    letter-spacing: 0.15em;
}

.sceneDecor {
    position: absolute;
    font-size: clamp(12rem, 35vw, 22rem);
    line-height: 1;
    user-select: none;
    pointer-events: none;
    z-index: 1;
    right: -5%;
    bottom: -8%;
}

/* ═══════════════════════════════════════════
   VALENTINE SECTION
   ═══════════════════════════════════════════ */
.valentineSection {
    min-height: 100vh;
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 3rem 1rem 4rem;
    position: relative;
    z-index: 10;
}

.arrivalText {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(1rem, 2.5vw, 1.3rem);
    font-style: italic;
    color: var(--text-muted);
    margin-bottom: 2.5rem;
    letter-spacing: 0.08em;
}

/* ═══════════════════════════════════════════
   THE CARD — simple book

   Two layers stacked on top of each other:
   1. cardInside  — back page, stationary, has the message
   2. cardFront   — front cover, folds LEFT from left edge

   That's it. Two pages. Like a greeting card.
   ═══════════════════════════════════════════ */
.card {
    perspective: 1200px;
}

.cardBody {
    position: relative;
    width: min(420px, 85vw);
    height: min(560px, 115vw);
    cursor: pointer;
    transform-style: preserve-3d;
}

/* ── INSIDE PAGE (back page, always stationary) ── */
.cardInside {
    position: absolute;
    inset: 0;
    background: linear-gradient(170deg, #fffcfa 0%, #fff8f5 50%, #fff4f0 100%);
    border-radius: 12px;
    box-shadow:
            0 20px 60px rgba(139, 26, 58, 0.1),
            0 6px 20px rgba(139, 26, 58, 0.05);
    overflow: hidden;
    z-index: 1;
}

/* Paper texture */
.cardInside::before {
    content: '';
    position: absolute;
    inset: 0;
    background: url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence baseFrequency='0.65' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23n)' opacity='0.018'/%3E%3C/svg%3E");
    pointer-events: none;
}

/* Decorative border */
.cardInside::after {
    content: '';
    position: absolute;
    inset: 14px;
    border: 1px solid rgba(196, 154, 42, 0.12);
    border-radius: 6px;
    pointer-events: none;
}

.cardInsideContent {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    padding: 1.5rem 1.5rem;
    text-align: center;
}

.insideDate {
    font-family: 'Cormorant Garamond', serif;
    font-size: 0.72rem;
    letter-spacing: 0.4em;
    text-transform: uppercase;
    color: var(--gold);
}

.insideDivider {
    width: 50px;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold-light), transparent);
    margin: 0.5rem 0;
}

.insideGreeting {
    font-family: 'Great Vibes', cursive;
    font-size: clamp(2rem, 5vw, 2.8rem);
    color: var(--rose-deep);
    line-height: 1.2;
}

.insideMessage {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(0.95rem, 2.3vw, 1.1rem);
    font-style: italic;
    font-weight: 300;
    color: var(--text-secondary);
    line-height: 1.7;
    max-width: 320px;
    margin: 0.3rem 0;
}

.insideHeart {
    display: inline-block;
    font-size: 1.5rem;
    color: var(--rose-light);
    margin: 0.3rem 0;
}

.insideSign {
    font-family: 'Great Vibes', cursive;
    font-size: clamp(1.2rem, 3vw, 1.5rem);
    color: var(--rose-mid);
}

/* ── FRONT COVER ──
   Sits on top, folds LEFT from the LEFT edge.
   (Like opening a real greeting card)
*/
.cardFront {
    position: absolute;
    inset: 0;
    transform-origin: left center;
    transform-style: preserve-3d;
    z-index: 3;
}

/* Front face (what you see when closed) */
.cardFrontFace {
    position: absolute;
    inset: 0;
    backface-visibility: hidden;
    background:
            linear-gradient(160deg, #fff5f7 0%, #ffe8ee 30%, #ffd4de 65%, #ffc7d4 100%);
    border-radius: 12px;
    overflow: hidden;
    box-shadow:
            0 20px 60px rgba(139, 26, 58, 0.1),
            0 6px 20px rgba(139, 26, 58, 0.05),
            inset 0 1px 0 rgba(255, 255, 255, 0.7);
}

/* Subtle texture */
.cardFrontFace::before {
    content: '';
    position: absolute;
    inset: 0;
    background: url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence baseFrequency='0.65' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");
    pointer-events: none;
}

/* Gold border */
.cardFrontFace::after {
    content: '';
    position: absolute;
    inset: 14px;
    border: 1px solid rgba(196, 154, 42, 0.2);
    border-radius: 6px;
    pointer-events: none;
}

.cardFrontInner {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    padding: 1.5rem;
    position: relative;
    z-index: 1;
}

.cardHeart {
    font-size: clamp(2.5rem, 7vw, 4rem);
    color: var(--rose-mid);
    margin-bottom: 0.6rem;
    filter: drop-shadow(0 4px 16px rgba(201, 76, 110, 0.3));
}

.cardFrontTitle {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(0.75rem, 1.8vw, 0.9rem);
    letter-spacing: 0.4em;
    text-transform: uppercase;
    color: var(--rose-deep);
    margin-bottom: 0.2rem;
}

.cardFrontName {
    font-family: 'Great Vibes', cursive;
    font-size: clamp(3rem, 9vw, 4.5rem);
    color: var(--rose-deep);
    line-height: 1.1;
    text-shadow: 0 2px 20px rgba(139, 26, 58, 0.08);
}

.cardFrontDivider {
    width: 50px;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
    margin: 0.5rem 0;
}

.cardFrontTo {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(0.8rem, 1.8vw, 0.95rem);
    font-style: italic;
    color: var(--text-secondary);
    letter-spacing: 0.08em;
    margin-top: 0.2rem;
}

.cardFrontFrom {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(0.8rem, 1.8vw, 0.95rem);
    font-style: italic;
    color: var(--text-secondary);
    letter-spacing: 0.08em;
}

.cardFrontHint {
    font-family: 'Cormorant Garamond', serif;
    font-size: 0.8rem;
    color: var(--text-muted);
    letter-spacing: 0.12em;
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 1; }
}

/* Back of front cover (visible when card is flipped open) */
.cardFrontBack {
    position: absolute;
    inset: 0;
    backface-visibility: hidden;
    transform: rotateY(180deg);
    background: linear-gradient(170deg, #f5ede6 0%, #efe3d8 50%, #ede0d4 100%);
    border-radius: 12px;
    box-shadow: inset 0 0 30px rgba(139, 26, 58, 0.03);
}

/* Subtle "spine" shadow on the left edge when open */
.cardFrontBack::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 20px;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(139, 26, 58, 0.04));
    border-radius: 0 12px 12px 0;
}

/* ── Tap hint ── */
.tapHint {
    margin-top: 2rem;
    font-family: 'Cormorant Garamond', serif;
    font-size: 0.85rem;
    color: var(--text-muted);
    letter-spacing: 0.12em;
    position: relative;
    z-index: 10;
}

/* ── Heart burst ── */
.burst {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    z-index: 200;
}

.burstItem {
    position: absolute;
    display: inline-block;
}

/* ═══════════════════════════════════════════
   FOOTER
   ═══════════════════════════════════════════ */
.footer {
    text-align: center;
    padding: 3rem 2rem;
    font-family: 'Cormorant Garamond', serif;
    font-size: 0.7rem;
    letter-spacing: 0.4em;
    text-transform: uppercase;
    color: var(--gold);
    opacity: 0.35;
    position: relative;
    z-index: 10;
}

.footer span { margin: 0 0.3em; }

/* ═══════════════════════════════════════════
   RESPONSIVE
   ═══════════════════════════════════════════ */
@media (max-width: 640px) {
    .progressDots { right: 0.6rem; gap: 7px; }
    .dot { width: 6px; height: 6px; }
    .sceneDecor { font-size: 10rem; right: -10%; bottom: -5%; }

    .cardBody {
        width: min(340px, 82vw);
        height: min(490px, 112vw);
    }

    .cardInsideContent { padding: 1rem 0.8rem; }
    .cardInside::after, .cardFrontFace::after { inset: 10px; }
}

@media (max-width: 380px) {
    .sceneText { font-size: 1.6rem; }
    .cardFrontName { font-size: 3rem; }
    .insideGreeting { font-size: 2rem; }
    .cardBody {
        width: min(300px, 85vw);
        height: min(470px, 115vw);
    }
}